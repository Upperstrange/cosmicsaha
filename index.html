<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cosmic Saha</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="importmap">
    {
    "imports": {
        "three": "https://cdn.jsdelivr.net/npm/three@v0.181.2/build/three.module.js",
        "three/addons/": "https://cdn.jsdelivr.net/npm/three@v0.181.2/examples/jsm/"
    }
    }
    </script>

    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: #000;
            user-select: none;
        }

        #game-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .ui-layer {
            z-index: 10;
            pointer-events: none;
        }

        .interactive {
            pointer-events: auto;
        }

        .scanlines {
            background: linear-gradient(to bottom,
                    rgba(255, 255, 255, 0),
                    rgba(255, 255, 255, 0) 50%,
                    rgba(0, 0, 0, 0.1) 50%,
                    rgba(0, 0, 0, 0.1));
            background-size: 100% 4px;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: 20;
        }
    </style>
</head>

<body class="font-mono text-white">
    <div id="game-container"></div>
    <div class="scanlines"></div>
    <div class="ui-layer flex flex-col justify-between absolute inset-0 p-4 md:p-8">

        <div class="flex justify-between items-start">
            <div>
                <h1
                    class="text-xl md:text-3xl font-bold text-cyan-400 tracking-widest drop-shadow-[0_0_10px_rgba(34,211,238,0.8)]">
                    COSMIC SAHA</h1>
                <div class="mt-2 text-sm text-cyan-200 opacity-70">
                    SPEED: <span id="speed-display">1000</span> km/h
                </div>
            </div>

            <div class="text-right">
                <div class="text-2xl md:text-4xl font-bold text-yellow-400 drop-shadow-[0_0_10px_rgba(250,204,21,0.8)]">
                    SCORE: <span id="score">0</span>
                </div>
                <div class="mt-2 flex items-center justify-end gap-2">
                    <span class="text-sm font-bold text-red-400">AMPLIFICATION STRENGTH</span>
                    <div class="w-32 h-4 bg-gray-800 border border-gray-600 rounded skew-x-[-12deg] overflow-hidden">
                        <div id="health-bar" class="h-full bg-red-500 w-full transition-all duration-300"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="flex justify-between items-end pb-4">
            <button id="help-btn"
                class="interactive bg-cyan-900/50 hover:bg-cyan-700/80 border border-cyan-500 text-cyan-100 px-6 py-2 rounded backdrop-blur-sm transition-all duration-200">
                [?] INSTRUCTIONS
            </button>
            <div class="flex flex-col items-end">
                <button id="mute-btn"
                    class="interactive mb-2 text-xs text-cyan-400 hover:text-white border border-cyan-800 px-2 py-1 rounded">
                    ðŸ”Š AUDIO ONLINE
                </button>
                <div class="text-xs text-gray-500 hidden md:block">v1.2.0 // JUST-MUTH</div>
            </div>
        </div>

    </div>
    <div id="instructions-modal" class="hidden absolute inset-0 z-40 bg-black/90 flex items-center justify-center">
        <div class="max-w-lg w-full m-4 bg-gray-900 border border-cyan-500 p-6 relative shadow-2xl">
            <button id="close-help"
                class="absolute top-2 right-4 text-gray-400 hover:text-white text-2xl">&times;</button>
            <h3 class="text-2xl font-bold text-cyan-400 mb-4 border-b border-gray-700 pb-2">MISSION BRIEFING</h3>

            <div class="space-y-4 text-gray-300">
                <div class="flex items-center gap-4">
                    <div class="w-10 h-10 rounded-full bg-cyan-500 shadow-[0_0_15px_rgba(6,182,212,0.8)]"></div>
                    <div>
                        <strong class="text-white block">Energy Cores (+100 PTS)</strong>
                        <span class="text-sm">Collect these to power your engine and increase score.</span>
                    </div>
                </div>
                <div class="flex items-center gap-4">
                    <div class="w-10 h-10 bg-red-600 clip-polygon shadow-[0_0_15px_rgba(220,38,38,0.6)]"
                        style="clip-path: polygon(20% 0%, 80% 0%, 100% 20%, 100% 80%, 80% 100%, 20% 100%, 0% 80%, 0% 20%);">
                    </div>
                    <div>
                        <strong class="text-white block">Asteroids (-25% HP)</strong>
                        <span class="text-sm">Collision causes hull damage. 4 hits and you are destroyed.</span>
                    </div>
                </div>

                <div class="mt-6 pt-4 border-t border-gray-700">
                    <h4 class="text-white font-bold mb-2">CONTROLS</h4>
                    <ul class="list-disc pl-5 space-y-1 text-sm">
                        <li><strong>Keyboard:</strong> Use <b>W, A, S, D</b> or <b>Arrow Keys</b> to steer.</li>
                        <li><strong>Mouse:</strong> Move cursor to steer ship.</li>
                        <li><strong>Mobile:</strong> Drag finger on screen to steer.</li>
                    </ul>
                </div>
            </div>

            <button id="resume-btn"
                class="mt-8 w-full bg-gray-700 hover:bg-gray-600 text-white py-2 rounded transition-colors">
                RETURN TO COCKPIT
            </button>
        </div>
    </div>
    <div id="menu-overlay" class="absolute inset-0 z-30 bg-black/80 flex items-center justify-center backdrop-blur-sm">
        <div
            class="text-center max-w-md p-6 border-2 border-cyan-500 bg-black/90 shadow-[0_0_50px_rgba(6,182,212,0.3)]">
            <h2 id="menu-title" class="text-4xl md:text-5xl font-bold text-white mb-2 tracking-tighter">READY TO BLAST?
            </h2>
            <p id="menu-subtitle" class="text-yellow-400 mb-8 text-lg">Initialize the instrumentation amplifier to start
                your epic journey.</p>

            <div class="mb-8 text-left bg-gray-900/50 p-4 border border-gray-700 text-sm space-y-2">
                <p class="text-gray-300">âž¤ MOUSE or WASD to Steer</p>
                <p class="text-cyan-300">â˜… COLLECT Saha Cores (Blue Orbs)</p>
                <p class="text-red-400">âš  AVOID Arnall poop (Red Rocks)</p>
            </div>

            <div class="mb-8 text-left bg-gray-900/50 p-4 border border-gray-700 text-sm space-y-4">

                <label class="block text-gray-300 mb-2">Difficulty</label>

                <div id="difficulty-chips" class="flex gap-2">
                    <button data-diff="easy"
                        class="chip px-3 py-1 border border-green-600 text-green-400 rounded cursor-pointer hover:bg-green-600/20">
                        Easy
                    </button>

                    <button data-diff="medium"
                        class="chip px-3 py-1 border border-yellow-600 text-yellow-400 rounded cursor-pointer hover:bg-yellow-600/20">
                        Medium
                    </button>

                    <button data-diff="hard"
                        class="chip px-3 py-1 border border-red-600 text-red-400 rounded cursor-pointer hover:bg-red-600/20">
                        Hard
                    </button>
                </div>

            </div>


            <button id="start-btn"
                class="w-full bg-cyan-600 hover:bg-cyan-500 text-white font-bold py-4 px-8 rounded border-b-4 border-cyan-800 active:border-b-0 active:translate-y-1 transition-all">
                START INSTRUMENTATION AMPLIFIER
            </button>
        </div>
    </div>
    <script type="module" src="https://cdn.jsdelivr.net/gh/Upperstrange/cosmicsaha/src/main.js"></script>
</body>

</html>